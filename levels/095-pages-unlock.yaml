# Level 095: GitHub Pages Unlock
# THE BOSS FIGHT - Everything has led to this

id: "095"
level: 95
name: "ğŸŒ GitHub Pages Awakens"
description: "The collected fragments become whole. The website materializes. This is what you've been building toward."
tagline: "The void becomes reality"

unlock_requirements:
  score: 50000
  prs: 5000
  players: 500
  karma_global: 10000
  community_vote: true  # Community must vote to proceed

unlock_next:
  level: 96
  score: 55000
  prs: 5500

capabilities:
  # ALL previous capabilities PLUS:
  - "pages_activation"
  - "html_rendering"
  - "css_application"
  - "static_site_generation"
  - "asset_compilation"

validation:
  # No new contributions needed for unlock
  # This level activates automatically when requirements met
  type: "automatic_unlock"
  
  # But if anyone wants to trigger it early with a special PR:
  trigger_file: ".ACTIVATE_PAGES"
  requires_consensus: true
  min_votes: 100

effect:
  action: "activate_github_pages"
  steps:
    1: "Compile all HTML fragments from levels 81-94"
    2: "Apply all CSS fragments with CGA palette enforced"
    3: "Assemble all JS fragments in sandbox"
    4: "Build complete static site"
    5: "Deploy to GitHub Pages"
    6: "Redirect README to Pages"
  
  announcement:
    type: "epic"
    message: |
      ğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒ
      
      THE PAGES HAVE AWAKENED
      
      Everything you've contributed
      Every fragment of HTML
      Every line of CSS
      Every function definition
      
      It all comes together NOW.
      
      https://[username].github.io/enjoy
      
      The void is no longer void.
      It is REAL.
      
      ğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒğŸŒ

points:
  base: 1000  # Massive reward
  community_bonus: "{{total_contributors * 10}}"

karma_impact:
  # This level itself doesn't affect karma
  # But activating Pages requires HIGH global karma
  required_global_karma: 10000
  
  on_activation:
    everyone_gains: 100  # All contributors get karma boost

celebration:
  effects:
    - "Confetti animation in README"
    - "All contributors listed on Pages homepage"
    - "Achievement badges unlocked for everyone"
    - "Discord/Twitter announcement (if configured)"
  
  achievement: "The Builder"
  achievement_description: "You were here when the Pages awakened"

security:
  # CRITICAL: All content sanitized before Pages deploy
  html_sanitization: "strict"
  css_validation: "cga_palette_only"
  js_sandboxing: "maximum"
  csp_headers: "strict"
  
  # Manual review gate
  requires_maintainer_approval: true
  deploy_checklist:
    - "All HTML sanitized"
    - "All CSS validated"
    - "All JS sandboxed"
    - "No external resources"
    - "CSP headers configured"
    - "Rate limiting enabled"

post_unlock:
  # What happens AFTER Pages activates
  new_capabilities:
    - "Live editing on Pages (sandboxed)"
    - "Real-time collaboration"
    - "WebSocket-style updates (via polling)"
    - "Community dashboard"
  
  new_rules_available:
    - "Interactive elements"
    - "Canvas drawing (finally!)"
    - "Audio definitions"
    - "WebGL experiments (level 99)"

meta:
  milestone: "EPIC"
  boss_fight: true
  point_of_no_return: true
  difficulty: "legendary"
  
  community_preparation:
    # These need to happen BEFORE unlock
    - "Code review of all contributions"
    - "Security audit complete"
    - "Voting consensus reached"
    - "Backup of current state"
    - "Rollback plan ready"

flavor_text: |
  You've been building a website without knowing it.
  Every word, every fragment, every contribution.
  
  It wasn't random. It was accumulation.
  The void was listening. The void was LEARNING.
  
  And now, at level 95, after 50,000 points,
  after 5,000 pull requests from 500 players...
  
  The website materializes.
  
  What you see at https://[username].github.io/enjoy
  is the collective dream of every contributor.
  
  This is not the end.
  
  This is where the REAL game begins.

technical_notes: |
  # Implementation Notes
  
  ## Builder Process
  1. Read all contributions from levels 81-94
  2. Sanitize and validate everything
  3. Assemble index.html from fragments
  4. Compile CSS with CGA palette
  5. Bundle JS with strict sandbox
  6. Generate assets manifest
  7. Build with Jekyll/VitePress/11ty
  8. Deploy via GitHub Pages API
  
  ## Safety Measures
  - All HTML through DOMPurify
  - CSS parser validates every property
  - JS runs in sandboxed iframe
  - CSP headers prevent external loads
  - Rate limiting on all interactions
  - Manual approval gate before deploy
  
  ## Rollback
  If Pages breaks:
  1. Disable Pages immediately
  2. Revert to previous state
  3. Identify bad contribution
  4. Remove and re-build
  5. Re-deploy with fix
  
  ## Monitoring
  - Pages performance metrics
  - Error tracking
  - User analytics (privacy-respecting)
  - Contribution quality dashboard
